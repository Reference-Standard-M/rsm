image:https://www.fourthwatchsoftware.com/images/fws-logo-horizontal.png[caption
="Fourth Watch Software Logo", width="480", height="80"]

'''

= Reference Standard M Release Notes

===== v1.73.0 - 2020 Dec 26

* Increase max length of names from 8 characters to 32 characters
  - Global variable names
  - Local variable names
  - Routine names
  - Routine tag names
  - UCI names
  - Volume names
* Add `name_length` node to the `^$system` system variable for version support
* Change use of name lengths longer than the max at runtime to an `M56` error
* Update database to version 2
* Update compiler to version 8
* Add `install` rule to build files to install `rsm` in a system location
* Add `dbver=1` option to build `rsm` using database version 1 for upgrades
* Add upgrade script to convert a database from version 1 to version 2
* Create magic configuration for database and journal file formats
* Add continuous integration configuration script
* Fix various compiler warnings on supported platforms
* Fix various linter warnings and suggestions
* Add support for the `RSM_DBFILE` environment variable (database file path)
* Add `-e` option when creating a database to set the name of the manager UCI
* Add `-h` option to `rsm` executable, to display the help usage menu
* Improve the `rsm` help usage menu
* Improve and update documentation
* Allow creation of a large enough map block to address the max database size
* Add `creation_time` to label block set to datetime stamp of database creation
* Change database and journal datetime stamps to consistently use local offsets
* Handle attaching a new database file to an old memory environment gracefully
* Improve error handling in several places
* Improve the daemon log messages
* Fix `^$system` UCI bugs that lead to segfaults
* Fix journal header datetime stamp size
* Fix journal bug that prevents journaling the first `SET/KILL` of a global
* Fix `job` bug when passing one or more arguments with a timeout
* Fix `$data` bug with the `^$global` system variable top node
* Fix device timeout bug
* Fix integrity checker (`$&%ic` XCall) to work with global directory blocks
* Improve the fix for the `write` form feed command [`write #`]
* Change `$storage` to return remaining symbol table slots, rather than 1024
* Add use of ASCII 127 as an input terminator
* Fix I/O to support shell heredocs and other I/O redirection
* Remove hard-coded support for the 'One' application
* Fix I/O daemonizing bug when starting up write/garbage daemons
* Change the `$BP` (breakpoints) intrinsic variable to `$ZBP` and expose it in M
* Fix output bug cutting off last character in `$system`
* Add pipe mode to the `$&%spawn` XCall, to redirect shell output to a variable
* Fix all compiler errors in the vendor utility routines
* Update vendor routines to work with version 1 and 2 databases and journals
* Update vendor utility routines to optionally display full global data
* Fix bug in the M Command Language OS shelling functionality
* Fix bug in `UCI` utility routine that allows editing of UCI 1 (manager)
* Fix bug that prevents the `Dump` functionality in the database `^FIX` utility
* Fix search bug in the `List` functionality in the database `^FIX` utility
* Fix display bug with empty formal lists in the routine `^DECOMP` utility
* Improve error handling of routine restore/save, so that they continue on error
* Split the `^MATH` utility routine in order to support smaller database blocks
* Update formatting of utilities that display data throughout
* Add support for journals made from database versions 1 and 2 to `^JOURNLST`
* Add current journal file set as default in the journal `^JOURNLST` utility
* Add support for big-endian machines when using `view/$view` in vendor routines
* Add support to the vendor routines for manager UCIs not named 'MGR'
* Add `Shutdown` command to the MCL to shut down an environment
* Add UCI name to the `List` functionality in the database `^FIX` utility
* Add ability to pass max jobs to fork to the built-in M web server
* Add `kvalue` M polyfill to the `^MATH` utility dispatch routine

===== v1.72.0 - 2020 Nov 2

The first release of Reference Standard M is based on MUMPS V1 by Raymond
Douglas Newman, located at https://gitlab.com/Reference-Standard-M/mumpsv1.

The initial release notes refer to changes between MUMPS V1.71 and Reference
Standard M V1.72.0.

* Change repository to refer to new name, maintainer, copyright, and licence
* Update build rules to maintain support on the platforms we are targeting
* Fix various compiler warnings on supported platforms
* Fix various linter errors and warnings
* Change version scheme to semantic versioning
* Remove shared memory when there is an environment initialization error
* Reset terminal to initial settings when shutting down the environment 
* Improve error and exception handling
* Fix several bugs that lead to segfaults
* Fix several memory and resource leaks
* Fix several minor bugs
* Fix commenting errors
* Remove unused, extraneous code
* Remove alternate terminal code for input terminators
* Remove use of ASCII 127 as an input terminator
* Fix the `write` form feed command [`write #`]
* Improve the `$&%directory` XCall semantics
* Update, and improve, the `$&paschk` XCall to work on more supported platforms
* Add ability to pass port number to the built-in M web server

[role="right"]
link:doc/index.adoc[Site Directory]
